import sys
import os
sys.path.append(os.getcwd())

import unittest
from App.Model.BusinessLogic import determine_year_of_admission, determine_study_duration

class TestBusinessLogic(unittest.TestCase):
    def test_determine_year_of_admission(self):
        test_data = [
            ('ГМС-22-1', 3, 2022),
            ('Вбд-22', 3, 2022),    
            ('ТД-23-2', 2, 2023),   
            ('ТД-21-1', 4, 2021),   
            ('ТД-21-1', 4, 2021),   
            ('ТД-21-1', 4, 2021),   
            ('ГМУ-23-3', 2, 2023),  
            ('ВУМБ-23-2', 2, 2023), 
            ('Энг-21', 4, 2021),    
            ('Тд-23-1', 2, 2023),   
            ('ГМС-24', 1, 2024),    
            ('ГМС-24', 1, 2024),    
            ('ПИ-22-2', 3, 2022),   
            ('ЭК-24-1', 1, 2024),   
            ('ТД-22-3', 3, 2022),   
            ('ПИ-23-2', 2, 2023),   
            ('ЭК-24м', 1, 2024),    
            ('ВБИН 23-1 ', 2, 2023),
            ('ВЮР-22-3', 3, 2022),  
            ('Юр-24-2', 1, 2024),   
            ('ЮР-24-2', 1, 2024),   
            ('ЮР-24-3', 1, 2024),   
            ('ЮР-24-3', 1, 2024),   
            ('ЭК-24-2', 1, 2024),   
            ('ЭК-24-2', 1, 2024),   
            ('ВЭК-24-2', 1, 2024),  
            ('ЭК-24-1', 1, 2024),
            ('ВБИН-24-1', 1, 2024),
            ('БД-24', 1, 2024),
            ('ПИ-23-1', 2, 2023),
            ('ПИ-22-2', 3, 2022),
            ('ЭНГ-24м', 1, 2024),
            ('Эб-23', 2, 2023),
            ('ЭНГ-24м', 1, 2024),
            ('ЭНГ-24м', 1, 2024),
            ('ГМС-24', 1, 2024),
            ('ГМС-24', 1, 2024),
            ('ГМС-24', 1, 2024),
            ('ЮР-24-1', 1, 2024),
            ('ЮР-23-1', 1, 2023),
            ('ЭНГ-24М', 1, 2024),
            ('Юр-22-1', 3, 2022),
            ('ГМС-21', 4, 2021),
            ('Бин-24-2', 1, 2024),
            ('ТД-24', 1, 2024),
            ('ЭК-24-1', 1, 2024),
            ('ПИ-24', 1, 2024),
            ('БИН-24-2', 1, 2024),
            ('ЮР-24-3', 1, 2024),
            ('ПИ-24Р', 1, 2024),
            ('ПИ-24Р', 1, 2024),
            ('ПИ-24Р', 1, 2024),
            ('ПИ-24Р', 1, 2024),
            ('ЮР-24-3', 1, 2024),
            ('Юр-24-3', 1, 2024),
            ('Юр-24-3', 1, 2024),
            ('БИН-24-1', 1, 2024),
            ('БИН-24-1', 1, 2024),
            ('ПИ-24Р', 1, 2024),
            ('ПИ-24Р', 1, 2024),
            ('БИН-24-1', 1, 2024),
            ('ГМС-24-2', 1, 2024),
            ('ЮР-24-1', 1, 2024),
            ('ЭНГ-24 М', 1, 2024),
            ('БД-24', 1, 2024),
            ('БД-24', 1, 2024),
            ('ТД-24', 1, 2024),
            ('ТД-24 ', 1, 2024),
            ('ТД-24', 1, 2024),
            ('ГМС-24', 1, 2024),
            ('ТД-42', 1, 2024),
            ('ТД-22-2', 3, 2022),
            ('ПИ-24Р', 1, 2024),
            ('ГМУ-23-3', 2, 2023),
            ('ПИ-23-3', 2, 2023),
            ('ПИ-23-3', 2, 2023),
            ('УМБ-23', 2, 2023),
            ('ЮР-21', 4, 2021),
            ('ТД-24', 1, 2024),
            ('БИН-24-1', 1, 2024),
            ('ГМС-22-2', 3, 2022),
            ('БИН-24-1', 1, 2024),
            ('ПИ-24Р', 1, 2024),
            ('ПИ-24Р', 1, 2024),
            ('ВЮР-21-2', 4, 2021),
            ('Энг-23', 2, 2023),
            ('УМБ-23', 2, 2023),
            ('ПБ-24', 1, 2024),
            ('ПБ-24-1', 1, 2024),
            ('БИН-23м', 2, 2023),
            ('ВГМС-24', 1, 2024),
            ('Пб-24-1', 1, 2024),
            ('БД-24-1', 1, 2024),
            ('ГМУ-24-2', 1, 2024),
            ('УМБ-23', 2, 2023),
            ('ПИ-23-3', 2, 2023),
            ('ПИ-23-3', 2, 2023),
            ('ЮР-24-3', 1, 2024),
            ('МЕН-24М', 1, 2024),
            ('ГМУ-23-2', 2, 2023),
            ('Вгмс-24-3', 1, 2024),
            ('Вгмс-24-3', 1, 2024),
            ('ГМУ-24-1', 1, 2024),
            ('ПИ-23-1', 2, 2023),
            ('УМБ-23', 2, 2023),
            ('Зтд-24', 1, 2024),
            ('ЭК-24-1', 1, 2024),
            ('ЭК-24-1', 1, 2024),
            ('ЮР-24-2', 1, 2024),
            ('ГМС-22-1', 3, 2022),
            ('ЮР-24-2', 1, 2024),
            ('ЮР-24-3', 1, 2024),
            ('ЮР-24-3', 1, 2024),
            ('ЭС-23', 2, 2023),
            ('ГМС-21', 4, 2021),
            ('БИН-24-1', 1, 2024),
            ('БИН-24-2', 1, 2024),
            ('ГМУ-23-2', 2, 2023),
            ('ТД-20-3', 5, 2020),
            ('ЮР-24-1', 1, 2024),
            ('ПИ-24Р', 1, 2024),
            ('ЮР-22-1', 3, 2022),
            ('ЭНГ-23', 2, 2023),
            ('ЗКН-24', 1, 2024),
            ('БИН24М', 1, 2024),
            ('ЮР-23-1', 1, 2023),
            ('ТД-24', 1, 2024),
            ('ЭНГ-24М', 1, 2024)
        ]
        
        for group_name, course, expected_year in test_data:
                with self.subTest(group=group_name, course=course):
                    result = determine_year_of_admission(group_name, course)
                    self.assertEqual(result, expected_year, f'Failed for group {group_name} and course {course}')
    
    def test_determine_study_duration(self):
        test_data_study_duration = [
            ('МЕН-23м ', 2),    
            ('Тд-20-1', 5),           
            ('ТД-23-2', 5),           
            ('ЭНГ-24 м', 2),          
            ('ТД-22-3', 5),          
            ('Эб-23', 5),            
            ('ТД-24', 5),             
            ('ТД-24 ', 5),            
            ('ТД-42', 5), 
            ('БИН-24', 4),
            ('БИН-23-1э', 4),
            ('ТД-23-1', 5),
            ('ТД-23-1', 5),
            ('ГМУ -23-2', 4),
            ('ГМУ -23-2', 4),
            ('ЮР-23-1', 4),
            ('ЮР-23-1', 4),
            ('МЕН-23м ', 2),
            ('ЮР-22-1', 4),
            ('ЮР-22-1', 4),
            ('ЮР-22-1', 4),
            ('Бин-24', 4),
            ('Бин-24', 4),
            ('БИ-24', 4),
            ('ПИ-24', 4),
            ('ЭС-23', 4),
            ('ГМС-23-1', 4),
            ('ГМС-22-2', 4),
            ('ГМС-24', 4),
            ('ГМУ-24', 4),
            ('Гму', 4),
            ('ЭК-24м', 2),
            ('ТД-23-3', 5),
            ('Юр-23-м', 2),
            ('Юр-23-м', 2),
            ('ЭК-24м', 2),
            ('БИН-24м', 2),
            ('БИН-24м', 2),
            ('БИН-24м', 2),
            ('БИН-24м', 2),
            ('БИН-24м', 2),
            ('Тд-20-2', 5),
            ('ЭНГ-22-1', 4),
            ('ГМС-22-2', 4),
            ('Тд-20-1', 5),
            ('ТД-23-2', 5),
            ('БИН-23-1э', 4),
            ('Энг-23м', 2),
            ('Энг-23м', 2),
            ('ВГМС-22-2', 4),
            ('ГМУ-23-3', 4),
            ('ГМУ-23-3', 4),
            ('Юр-24-3', 4),
            ('Тд-24', 5),
            ('ЭБ-24', 5),
            ('БД-22', 4),
            ('БИН-24', 4),
            ('Юр-23-3', 4),
            ('БД-24', 4),
            ('ЮР-24-2', 4),
            ('ЮР-24-2', 4),
            ('ЭК-24', 4),
            ('ВГМС-22-2', 4),
            ('ПИ-24', 4),
            ('ПИ-24', 4),
            ('ТД-20-3', 5),
            ('ТД-20-3', 5),
            ('УМБ-23', 4),
            ('ПИ-24Р', 4),
            ('БИН-24', 4),
            ('ГМС-22-1', 4),
            ('ГМУ-24-2', 4),
            ('БД-22', 4),
            ('ЮР-23-2', 4),
            ('ТД-23-3', 5),
            ('ГМУ-24', 4),
            ('УМБ-24', 4),
            ('УМБ-24', 4),
            ('УМБ-24', 4),
            ('ЮР-22-1', 4),
            ('ЭНГ-24 м', 2),
            ('ПИ-21-1', 4),
            ('ПИ-21-1', 4),
            ('ГМУ-24', 4),
            ('Гму-24', 4),
            ('ТД-24', 5),
            ('ГМС-22-1', 4),
            ('Вбд-22', 4),
            ('ТД-23-2', 5),
            ('ТД-21-1', 5),
            ('ГМУ-23-3', 4),
            ('ВУМБ-23-2', 4),
            ('Энг-21', 4),
            ('Тд-23-1', 5),
            ('ГМС-24', 4),
            ('ГМС-24', 4),
            ('ПИ-22-2', 4),
            ('ЭК-24-1', 4),
            ('ТД-22-3', 5),
            ('ПИ-23-2', 4),
            ('ЭК-24м', 2),
            ('ВБИН 23-1 ', 4),
            ('ВЮР-22-3', 4),
            ('Юр-24-2', 4),
            ('ЮР-24-2', 4),
            ('ЮР-24-3', 4),
            ('ЮР-24-3', 4),
            ('ЭК-24-2', 4),
            ('ЭК-24-2', 4),
            ('ВЭК-24-2', 4),
            ('ЭК-24-1', 4),
            ('ВБИН-24-1', 4),
            ('БД-24', 4),
            ('ПИ-23-1', 4),
            ('ПИ-22-2', 4),
            ('ЭНГ-24м', 2),
            ('Эб-23', 5),
            ('ЭНГ-24м', 2),
            ('ЭНГ-24м', 2),
            ('ГМС-24', 4),
            ('ГМС-24', 4),
            ('ГМС-24', 4),
            ('ЮР-24-1', 4),
            ('ЮР-23-1', 4),
            ('ЭНГ-24М', 2),
            ('Юр-22-1', 4),
            ('ГМС-21', 4),
            ('Бин-24-2', 4),
            ('ТД-24', 5),
            ('ЭК-24-1', 4),
            ('ПИ-24', 4),
            ('БИН-24-2', 4),
            ('ЮР-24-3', 4),
            ('ПИ-24Р', 4),
            ('ПИ-24Р', 4),
            ('ПИ-24Р', 4),
            ('ПИ-24Р', 4),
            ('ЮР-24-3', 4),
            ('Юр-24-3', 4),
            ('Юр-24-3', 4),
            ('БИН-24-1', 4),
            ('БИН-24-1', 4),
            ('ПИ-24Р', 4),
            ('ПИ-24Р', 4),
            ('БИН-24-1', 4),
            ('ГМС-24-2', 4),
            ('ЮР-24-1', 4),
            ('ЭНГ-24 М', 2),
            ('БД-24', 4),
            ('БД-24', 4),
            ('ТД-24', 5),
            ('ГМС-24', 4),
            ('ТД-42', 5),
            ('ТД-22-2', 5),
            ('ПИ-24Р', 4),
            ('ГМУ-23-3', 4),
            ('ПИ-23-3', 4),
            ('ПИ-23-3', 4),
            ('УМБ-23', 4),
            ('ЮР-21', 4),
            ('ТД-24', 5),
            ('БИН-24-1', 4),
            ('ГМС-22-2', 4),
            ('БИН-24-1', 4),
            ('ПИ-24Р', 4),
            ('ПИ-24Р', 4),
            ('ВЮР-21-2', 4),
            ('Энг-23', 4),
            ('УМБ-23', 4),
            ('ПБ-24', 4),
            ('ПБ-24-1', 4),
            ('БИН-23м', 2),
            ('ВГМС-24', 4),
            ('Пб-24-1', 4),
            ('БД-24-1', 4),
            ('ГМУ-24-2', 4),
            ('УМБ-23', 4),
            ('ПИ-23-3', 4),
            ('ПИ-23-3', 4),
            ('ЮР-24-3', 4),
            ('МЕН-24М', 2),
            ('ГМУ-23-2', 4),
            ('Вгмс-24-3', 4),
            ('Вгмс-24-3', 4),
            ('ГМУ-24-1', 4),
            ('ПИ-23-1', 4),
            ('УМБ-23', 4),
            ('ЭК-24-1', 4),
            ('ЭК-24-1', 4),
            ('ЮР-24-2', 4),
            ('ГМС-22-1', 4),
            ('ЮР-24-2', 4),
            ('ЮР-24-3', 4),
            ('ЮР-24-3', 4),
            ('ЭС-23', 4),
            ('ГМС-21', 4),
            ('БИН-24-1', 4),
            ('БИН-24-2', 4),
            ('ГМУ-23-2', 4),
            ('ТД-20-3', 5),
            ('ЮР-24-1', 4),
            ('ПИ-24Р', 4),
            ('ЮР-22-1', 4),
            ('ЭНГ-23', 4),
            ('ЗКН-24', 4),
            ('БИН24М', 2),
            ('ЮР-23-1', 4),
            ('ТД-24', 5),
            ('ЭНГ-24М', 2)
        ]
        
        for group_name, expected in test_data_study_duration:
            with self.subTest(group=group_name):
                result = determine_study_duration(group_name)
                self.assertEquals(result, expected, f'Failed for group {group_name}, {expected}')
        
    
    
if __name__ == '__main__':
    unittest.main()